{
  "version": 3,
  "sources": ["../../../dist/build.js", "../src/app.js"],
  "sourcesContent": ["!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).compareImg=n()}(this,(function(){\"use strict\";return async function(...e){return Array.isArray(e[0])&&(e=e[0]),function(...e){return Array.isArray(e[0])&&(e=e[0]),e.slice(0,-1).every(((n,t)=>n===e[t+1]))}(await Promise.all(e.map((e=>new Promise((async(n,t)=>{try{/(\\?.*)$/.test(e)?e+=\"&t=\"+ +new Date:e+=\"?t=\"+ +new Date;const t=await async function(e){const n=await fetch(e,{mode:\"cors\",cache:\"no-cache\",credentials:\"include\"});return n.ok?n.blob():(console.warn(`${e} could not be loaded, response status is ${n.status}`),null)}(e);if(!t)return void n(null);const r=await async function(e){return new Promise(((n,t)=>{const r=new FileReader;r.addEventListener(\"load\",(()=>n(r.result))),r.addEventListener(\"error\",(()=>t(r.error))),r.readAsBinaryString(e.slice(0,e.size))}))}(t);n(r)}catch(e){t(e)}}))))))}}));\n", "import './css/app.css';\r\nimport compare from 'compare-img';\r\n\r\n/**\r\n * Append image item.\r\n */\r\nfunction appendItem(url) {\r\n  // Generate image list item element.\r\n  const item = $('<div />', {class: 'list-group-item border-0 position-relative'})\r\n  const rmv = $('<a href=\"#!\" class=\"position-absolute p-1\"><i class=\"fas fa-2x fa-times\"></i></a>').appendTo(item);\r\n  const spnr = $('<div class=\"fa-3x position-absolute translate-middle top-50 start-50\"><i class=\"fas fa-circle-notch fa-spin\" style=\"color: #1fda9a;\"></i></div>').appendTo(item);\r\n  const img = $('<img />', {src: url, class: 'img-thumbnail'}).appendTo(item);\r\n\r\n  // Remove the spinner after reading the image.\r\n  img.on('load', () => spnr.remove());\r\n\r\n  // Set image item deletion event.\r\n  rmv.on('click', evnt => {\r\n    evnt.preventDefault();\r\n    const item = $(evnt.currentTarget).closest('.list-group-item');\r\n    item.fadeOut('fast').queue(() => {\r\n      item.remove();\r\n\r\n      // Disable the compare button if there are less than 2 images.\r\n      if (timgs.find('img').length < 2)\r\n        compareSbmt.prop('disabled', true)\r\n    });\r\n  });\r\n\r\n  // Add image element of entered URL.\r\n  timgs.append(item);\r\n}\r\n\r\n/**\r\n * Compare images.\r\n */\r\nfunction compareImgs() {\r\n  spnr.addClass('show');\r\n  const imgs = [];\r\n  for (let img of timgs.find('img'))\r\n    imgs.push(img.src);\r\n  console.log('imgs=', imgs)\r\n  compare(imgs).then(res => {\r\n    console.log('res=', res);\r\n    spnr.removeClass('show');\r\n    if (res)\r\n      rslt.removeClass('text-danger').addClass('text-success').html('<i class=\"fas fa-check\"></i> The images are all the same');\r\n    else\r\n      rslt.addClass('text-danger').removeClass('text-success').html('<i class=\"fas fa-times\"></i> The images are not all the same');\r\n  });\r\n}\r\n\r\n// Image list element.\r\nconst timgs = $('#timgs');\r\n\r\n// Comparison result message.\r\nconst rslt = $('#rslt');\r\n\r\n// Comparison result message spinner.\r\nconst spnr = $('#spnr');\r\n\r\n// Submit button on the comparison form.\r\nconst compareSbmt = $('#frmCompare').find('[type=\"submit\"]');\r\n\r\n// Add event.\r\n$('#frmUpload')\r\n  .on('keyup blur', 'input', evnt => {\r\n    // Activate the submit button only if there are no input errors.\r\n    const frm = $(evnt.currentTarget).closest('form');\r\n    const submtBtn = frm.find('button[type=submit]');\r\n    submtBtn.prop('disabled', !frm.valid());\r\n  })\r\n  .validate({\r\n    rules: {\r\n      url: {required: true, url: true}\r\n    },\r\n    submitHandler: frm => {\r\n      const url = $(frm).find('[name=\"url\"]');\r\n      appendItem(url.val());\r\n\r\n      // If there are 2 or more images, enable the compare button.\r\n      if (timgs.find('img').length > 1)\r\n        compareSbmt.prop('disabled', false)\r\n    }\r\n  });\r\n  $('#frmCompare').on('submit', evnt => {\r\n    evnt.preventDefault();\r\n    compareImgs();\r\n  });\r\n\r\n// Add a sample comparison image.\r\nfor (let img of ['src/img/sample-1.png', 'src/img/sample-2.png', 'src/img/sample-3.png'])\r\n  appendItem(img);\r\n\r\n// Compare images.\r\ncompareImgs();"],
  "mappings": "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",
  "names": []
}
